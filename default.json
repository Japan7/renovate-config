{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "description": "Japan7 default configuration for Renovate",
  "extends": [
    "config:recommended",
    ":automergePatch",
    ":automergeDigest",
    ":automergeBranch",
    ":maintainLockFilesWeekly",
    "regexManagers:dockerfileVersions"
  ],
  "packageRules": [
    {
      "matchUpdateTypes": ["minor"],
      "matchCurrentVersion": ">= 1.0.0",
      "automerge": true
    }
  ],
  "customDatasources": {
    "wolfi": {
      "defaultRegistryUrlTemplate": "https://raw.githubusercontent.com/wolfi-dev/versions/main/version_streams/{{ packageName }}.yaml",
      "format": "yaml",
      "transformTemplates": [
        "{\"releases\": $map($.status.versions, function($v) { { \"version\": $v.version } }) }"
      ]
    }
  }
}
